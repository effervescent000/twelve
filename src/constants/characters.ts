import type { StatGrowthChart } from '../interfaces/characters';

export const CHARACTERS = ['vaan', 'balthier', 'fran', 'basch', 'ashe', 'penelo'];

const levels = Array.from({ length: 99 }, (x, i) => `${i + 1}`);
export const levelsOptions = levels.map((level) => ({ label: level, value: level }));

export const STATS: Record<string, StatGrowthChart> = {
	vaan: {
		hp: [83, 297, 689, 1194, 1672, 2437, 3112, 3493, 3933, 4535, 5215],
		mp: [32, 80, 153.5, 229.5, 323, 403, 476.5, 530, 584, 617, 629.5],
		strength: [23, 28, 34, 39, 45, 51, 56, 62, 68, 73, 78],
		magick: [22, 27, 32, 37, 42, 48, 53, 58, 63, 69, 73],
		vitality: [24, 27, 31, 35, 39, 42, 46, 50, 54, 57, 61],
		speed: [24, 25, 26, 28, 29, 31, 32, 33, 35, 36, 37]
	},
	penelo: {
		hp: [65, 257.5, 609.5, 1063, 1492, 2178.5, 2785, 3126.5, 3522, 4062.5, 4673],
		mp: [39.5, 94, 177, 263.5, 370, 460, 544, 604.5, 665.5, 703, 717],
		strength: [20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70],
		magick: [21, 26, 32, 37, 43, 49, 54, 60, 66, 71, 76],
		vitality: [23, 26, 30, 34, 38, 41, 45, 49, 53, 56, 60],
		speed: [24, 25, 26, 27, 29, 30, 31, 32, 34, 35, 36]
	},
	balthier: {
		hp: [103, 294.5, 676, 1167, 1631.5, 2376, 3032.5, 3403, 3855, 4416.5, 5078],
		mp: [36.5, 77.5, 148, 220, 309.5, 386.5, 456.5, 507.5, 217, 591, 602.5],
		strength: [25, 29, 34, 39, 44, 50, 55, 60, 65, 71, 75],
		magick: [18, 22, 27, 31, 36, 42, 45, 50, 48, 59, 63],
		vitality: [24, 27, 31, 34, 38, 41, 45, 48, 52, 55, 58],
		speed: [24, 25, 26, 28, 29, 31, 32, 34, 35, 37, 38]
	},
	fran: {
		hp: [86.5, 270, 635, 1106, 1551, 2264, 2893, 3247.5, 3658, 4219, 4852.5],
		mp: [47, 90.5, 165, 242, 337.5, 418.5, 493, 547.5, 602, 636, 648],
		strength: [23, 27, 32, 37, 42, 47, 52, 57, 62, 67, 71],
		magick: [20, 24, 29, 34, 39, 44, 49, 54, 59, 64, 68],
		vitality: [26, 29, 33, 37, 40, 44, 48, 51, 55, 59, 62],
		speed: [23, 24, 25, 27, 28, 30, 31, 32, 34, 35, 36]
	},
	basch: {
		hp: [142.5, 321, 716, 1224, 1705, 2475.5, 3154.5, 3538.5, 3981.5, 4587.5, 5272],
		mp: [34.5, 67.5, 131.5, 197.5, 280, 349, 413.5, 460.5, 507, 536.5, 547],
		strength: [26, 30, 35, 41, 46, 51, 57, 62, 68, 73, 78],
		magick: [21, 24, 28, 33, 37, 41, 46, 50, 55, 59, 63],
		vitality: [20, 22, 25, 28, 31, 34, 36, 39, 42, 45, 47],
		speed: [23, 24, 25, 26, 28, 29, 30, 31, 33, 34, 35]
	},
	ashe: {
		hp: [102.5, 266.5, 629, 1096.5, 1538.5, 2246, 2870.5, 3222.5, 3630, 4187, 4816],
		mp: [60.5, 101.5, 182.5, 264.5, 366.5, 453.5, 534, 592, 650.5, 687, 700],
		strength: [22, 26, 31, 36, 42, 47, 52, 58, 63, 68, 73],
		magick: [25, 29, 34, 40, 45, 51, 56, 62, 67, 73, 78],
		vitality: [24, 26, 29, 33, 36, 40, 43, 47, 50, 53, 57],
		speed: [23, 24, 25, 26, 28, 29, 30, 32, 33, 34, 36]
	}
};

export const getSpeedMod = (speed: number) => {
	const SPEED_BREAKPOINTS = [
		[23, 0.13571],
		[24, 0.13286],
		[26, 0.13],
		[29, 0.12714],
		[32, 0.12429],
		[36, 0.12143],
		[41, 0.11857],
		[47, 0.11571],
		[57, 0.11286],
		[73, 0.11],
		[94, 0.10714]
	];
	let i = 0;
	while (i < SPEED_BREAKPOINTS.length) {
		if (SPEED_BREAKPOINTS[i][0] <= speed) return SPEED_BREAKPOINTS[i][1];
		i++;
	}
	// return the lowest speed value if we fail to find a match
	return 0.13571;
};
